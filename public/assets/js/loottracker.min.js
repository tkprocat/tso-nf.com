function updateLootData(){$("#slot1options").empty(),$("#slot2options").empty(),$("#slot3options").empty(),$("#slot4options").empty(),$("#slot5options").empty(),$("#slot6options").empty(),$("#slot7options").empty(),$("#slot8options").empty();var a=0;$(lootdata).each(function(){a!=this.Slot&&($("#slot"+this.Slot+"options").append('<option value="0">Please select loot.</option>'),a=this.Slot),$("#slot"+this.Slot+"options").append('<option value="'+this.ID+'">'+this.Type+" - "+this.Amount+"</option>")});for(var b=1;9>b;b++)""===$("#slot"+b+"options").html()?$("#slot"+b+"container").hide():($("#slot"+b+"container").show(),$("#slot"+b+"options option").filter(function(){return $(this).text().indexOf("Nothing")>=0}).prop("selected",!0),2==$("#slot"+b+"options option").length&&$("#slot"+b+"options").val($("#slot"+b+"options option:last").val()))}function updateValidationRules(){$("#registerLoot").removeData("validator"),$("#registerLoot").validate();for(var a=0;8>=a;a++)$("#slot"+a+"container").is(":visible")&&$('[name="slot'+a+'options"]').rules("add",{slotRequired:!0})}var loot1selected="",loot2selected="",loot3selected="",loot4selected="",loot5selected="",loot6selected="",loot7selected="",loot8selected="",lootamount1selected="",lootamount2selected="",lootamount3selected="",lootamount4selected="",lootamount5selected="",lootamount6selected="",lootamount7selected="",lootamount8selected="",lootdata=null;$(document).ready(function(){""===$('[name="adventure"] option:selected').text()?($("#slot1container").hide(),$("#slot2container").hide(),$("#slot3container").hide(),$("#slot4container").hide(),$("#slot5container").hide(),$("#slot6container").hide(),$("#slot7container").hide(),$("#slot8container").hide()):(adventureid=$('[name="adventure"]').val(),$.ajax({type:"POST",cache:!1,url:"{{ URL::to('/getJSONLootLab') }}",data:{adventure:$('[name="adventure"] option:selected').val()}}).done(function(a){lootdata=a,updateLootData()}))}),$('[name="adventure"]').change(function(){adventureid=$('[name="adventure"]').val(),$.ajax({type:"POST",url:"{{ URL::to('/getJSONLootLab') }}",cache:!1,data:{adventure:$('[name="adventure"] option:selected').val()}}).done(function(a){lootdata=a,updateLootData()})});